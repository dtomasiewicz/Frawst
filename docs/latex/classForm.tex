\hypertarget{classForm}{
\section{Form Class Reference}
\label{classForm}\index{Form@{Form}}
}
Inheritance diagram for Form:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classForm}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classForm_a918137d720fb6740e8d91b5355023e3e}{\_\-\_\-construct} (\$data=array())
\item 
\hyperlink{classForm_a5c9e86fcf411e32394ef3ccf9be785ae}{populate} (\$defaults)
\item 
\hyperlink{classForm_a4146c9fec58751931eeeafb6a5032109}{setErrors} (\$errors)
\item 
\hyperlink{classForm_ad628bf69f4aacf56874e228f4dffe278}{addErrors} (\$field, \$errors)
\item 
\hypertarget{classForm_a76a626645b5dd91fea35238c40b73057}{
{\bfseries addError} (\$field, \$error)}
\label{classForm_a76a626645b5dd91fea35238c40b73057}

\item 
\hyperlink{classForm_a1cd7191ba1fab1817ea6bffab804f82d}{errors} (\$field=null)
\item 
\hyperlink{classForm_a30692b7cf24078d8ce209b98fd27aa80}{get} (\$field=null)
\item 
\hyperlink{classForm_a89ce95b4a8eacc465730fb5e240ff66d}{validate} ()
\item 
\hyperlink{classForm_a719fa0e86b18283faee39d7e0d69957d}{valid} (\$field=null)
\item 
\hypertarget{classForm_a29e82a4cae1e8a22abad773b8c2b2b02}{
{\bfseries \_\-\_\-get} (\$name)}
\label{classForm_a29e82a4cae1e8a22abad773b8c2b2b02}

\item 
\hypertarget{classForm_a51c103095318a61cc45b2c7b9c84a8ee}{
{\bfseries open} (\$formName, \$action=null, \$attrs=array())}
\label{classForm_a51c103095318a61cc45b2c7b9c84a8ee}

\item 
\hypertarget{classForm_a98e8003caf23915207cdf5efd94fae2a}{
{\bfseries populate} (\$data=array())}
\label{classForm_a98e8003caf23915207cdf5efd94fae2a}

\item 
\hypertarget{classForm_aaa8d1ff2d98b23893bfa66ae8766212a}{
{\bfseries close} ()}
\label{classForm_aaa8d1ff2d98b23893bfa66ae8766212a}

\item 
\hypertarget{classForm_a926ffa6cfcb6b0df448fdb3d084f3a85}{
{\bfseries errors} (\$field)}
\label{classForm_a926ffa6cfcb6b0df448fdb3d084f3a85}

\item 
\hypertarget{classForm_ad346f6535dce3b737a354ec158fc56b8}{
{\bfseries input} (\$name, \$attrs=array())}
\label{classForm_ad346f6535dce3b737a354ec158fc56b8}

\item 
\hyperlink{classForm_a3c7226192b6c4a6d098db567dc00fba1}{hidden} (\$name, \$attrs=array())
\item 
\hyperlink{classForm_a7856398bee38d7cc0a5e805079651725}{text} (\$name, \$attrs=array())
\item 
\hyperlink{classForm_a88fa3b1b21917530621c45e121c6e273}{password} (\$name, \$attrs=array())
\item 
\hyperlink{classForm_ab5a5c2d036613181c1fd69356bf9ac7f}{checkbox} (\$name, \$attrs=array())
\item 
\hyperlink{classForm_a3394ae873b4192b6f3827dae49bb3ee1}{radio} (\$name, \$value, \$attrs=array())
\item 
\hyperlink{classForm_a2ce53f56957c430f52afed0f7a8b900f}{textarea} (\$name, \$attrs=array())
\item 
\hyperlink{classForm_a4721ca44be121370629b04e364c70a41}{select} (\$name, \$options, \$attrs=array())
\item 
\hypertarget{classForm_a1a00cdcd2d270441510a6a4858ea9103}{
{\bfseries submit} (\$value=null, \$name=null, \$attrs=array())}
\label{classForm_a1a00cdcd2d270441510a6a4858ea9103}

\item 
\hyperlink{classForm_a66e9d055a0daa51aa1c5b4dd62f3f82b}{selectHour24} (\$name, \$attrs=array())
\item 
\hyperlink{classForm_ae1d9a2ca2ec79f9cf872014397447273}{selectMinute} (\$name, \$attrs=array())
\item 
\hyperlink{classForm_aea60ffaa701fea429e51ceddb3712298}{selectYesNo} (\$name, \$attrs=array())
\item 
\hypertarget{classForm_ab47a12ae2f9f2cb205de386aa259bbc8}{
{\bfseries \_\-\_\-call} (\$method, \$args)}
\label{classForm_ab47a12ae2f9f2cb205de386aa259bbc8}

\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classForm_afe6750a98993c81da710af555a6ec3f7}{
static {\bfseries name} ()}
\label{classForm_afe6750a98993c81da710af555a6ec3f7}

\item 
\hypertarget{classForm_a81d48ddffcbdcaf2a7442f4d892a44e0}{
static {\bfseries method} ()}
\label{classForm_a81d48ddffcbdcaf2a7442f4d892a44e0}

\item 
static \hyperlink{classForm_a51c909fa03f961faadc70d1f8121e656}{compatible} (\$data, \$allowExtraFields=false)
\item 
static \hyperlink{classForm_a24944df6f9d5a439fbcd1bf4620a045c}{load} (\$data)
\item 
static \hyperlink{classForm_a3f3b1451e012697f0fca2bc3a09c6a44}{checkToken} (\$token)
\item 
static \hyperlink{classForm_a39acd9ac38411bf19951b993dea7e8b1}{makeToken} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classForm_acef302707ccc3c31725199b3adfa912e}{
const {\bfseries TOKEN\_\-NAME} = '\_\-\_\-TOKEN'}
\label{classForm_acef302707ccc3c31725199b3adfa912e}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classForm_a25f4ad782d570833cbd0320fd949651c}{\$\_\-defaults}
\item 
\hypertarget{classForm_a6588411906ebc9b77538fd35c66b6061}{
{\bfseries \$\_\-errors} = array()}
\label{classForm_a6588411906ebc9b77538fd35c66b6061}

\item 
\hypertarget{classForm_a99adb61969412070e68825ee27977a82}{
{\bfseries \$\_\-Form}}
\label{classForm_a99adb61969412070e68825ee27977a82}

\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classForm_a2e440ec9c20bf3c37b2d88d8e2f5832d}{
static {\bfseries \$\_\-method} = 'POST'}
\label{classForm_a2e440ec9c20bf3c37b2d88d8e2f5832d}

\item 
\hypertarget{classForm_a2ae01dc28ade07ea33443d58e1f3ff35}{
static {\bfseries \$\_\-fields} = array()}
\label{classForm_a2ae01dc28ade07ea33443d58e1f3ff35}

\item 
\hypertarget{classForm_ae7b9bcff478aa176d7cbc6ad31cf0224}{
static {\bfseries \$\_\-validate} = array()}
\label{classForm_ae7b9bcff478aa176d7cbc6ad31cf0224}

\item 
\hypertarget{classForm_a10c62b840cbdcdab634fa121b935c03f}{
static {\bfseries \$\_\-requiredPresent} = array()}
\label{classForm_a10c62b840cbdcdab634fa121b935c03f}

\item 
\hypertarget{classForm_a12dfb7a3c2919d238e5c0b6993c56b9c}{
static {\bfseries \$\_\-useToken} = true}
\label{classForm_a12dfb7a3c2919d238e5c0b6993c56b9c}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Base \hyperlink{classFrawst}{Frawst} \hyperlink{classForm}{Form} class

This class can be extended to rigidly define properties of your application's FORMs. This allows separation of form validation from your controller logic, and prevents duplication of form processing if you use the same form in multiple areas of your site. It also helps protect against XSS by ensuring no additional fields are passed in (as long as you check for compatibility before using the form) and all required fields are present. Anti-\/CSRF form tokens are also implemented and will be injected by default for all forms as long as you are using the FORM helper.

This class is NOT used to output form markup! For that, you can use the \hyperlink{classForm}{Form} helper. Simply pass the name of your \hyperlink{classForm}{Form} class in the open() method, and the fields will be (re)populated automatically. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classForm_a918137d720fb6740e8d91b5355023e3e}{
\index{Form@{Form}!\_\-\_\-construct@{\_\-\_\-construct}}
\index{\_\-\_\-construct@{\_\-\_\-construct}!Form@{Form}}
\subsubsection[{\_\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}Form::\_\-\_\-construct (
\begin{DoxyParamCaption}
\item[{\$}]{ data = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a918137d720fb6740e8d91b5355023e3e}
Instantiates the form object with the given data. If the data contains fields not specified in \$\_\-fields, they are ignored. 
\begin{DoxyParams}{Parameters}
\item[{\em array}]\$data \end{DoxyParams}


Reimplemented from \hyperlink{classMatrix}{Matrix}.



\subsection{Member Function Documentation}
\hypertarget{classForm_ad628bf69f4aacf56874e228f4dffe278}{
\index{Form@{Form}!addErrors@{addErrors}}
\index{addErrors@{addErrors}!Form@{Form}}
\subsubsection[{addErrors}]{\setlength{\rightskip}{0pt plus 5cm}Form::addErrors (
\begin{DoxyParamCaption}
\item[{\$}]{ field, }
\item[{\$}]{ errors}
\end{DoxyParamCaption}
)}}
\label{classForm_ad628bf69f4aacf56874e228f4dffe278}
Adds errors to a field. 
\begin{DoxyParams}{Parameters}
\item[{\em string}]\$field \item[{\em array}]\$errors \end{DoxyParams}
\hypertarget{classForm_ab5a5c2d036613181c1fd69356bf9ac7f}{
\index{Form@{Form}!checkbox@{checkbox}}
\index{checkbox@{checkbox}!Form@{Form}}
\subsubsection[{checkbox}]{\setlength{\rightskip}{0pt plus 5cm}Form::checkbox (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_ab5a5c2d036613181c1fd69356bf9ac7f}
Checkbox \hypertarget{classForm_a3f3b1451e012697f0fca2bc3a09c6a44}{
\index{Form@{Form}!checkToken@{checkToken}}
\index{checkToken@{checkToken}!Form@{Form}}
\subsubsection[{checkToken}]{\setlength{\rightskip}{0pt plus 5cm}static Form::checkToken (
\begin{DoxyParamCaption}
\item[{\$}]{ token}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classForm_a3f3b1451e012697f0fca2bc3a09c6a44}
Verifies a given token to determine if it is valid for this session and form. 
\begin{DoxyParams}{Parameters}
\item[{\em string}]\$token \end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool True if the token is valid, false otherwise. 
\end{DoxyReturn}
\hypertarget{classForm_a51c909fa03f961faadc70d1f8121e656}{
\index{Form@{Form}!compatible@{compatible}}
\index{compatible@{compatible}!Form@{Form}}
\subsubsection[{compatible}]{\setlength{\rightskip}{0pt plus 5cm}static Form::compatible (
\begin{DoxyParamCaption}
\item[{\$}]{ data, }
\item[{\$}]{ allowExtraFields = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classForm_a51c909fa03f961faadc70d1f8121e656}
Determines whether or not the given data is compatible with this form. May be extended to customize behaviour. 
\begin{DoxyParams}{Parameters}
\item[{\em array}]\$data \end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\hypertarget{classForm_a1cd7191ba1fab1817ea6bffab804f82d}{
\index{Form@{Form}!errors@{errors}}
\index{errors@{errors}!Form@{Form}}
\subsubsection[{errors}]{\setlength{\rightskip}{0pt plus 5cm}Form::errors (
\begin{DoxyParamCaption}
\item[{\$}]{ field = {\ttfamily null}}
\end{DoxyParamCaption}
)}}
\label{classForm_a1cd7191ba1fab1817ea6bffab804f82d}
Returns an array of errors for the specified field. If no field is specified, returns all errors for this form. 
\begin{DoxyParams}{Parameters}
\item[{\em string}]\$field \end{DoxyParams}
\hypertarget{classForm_a30692b7cf24078d8ce209b98fd27aa80}{
\index{Form@{Form}!get@{get}}
\index{get@{get}!Form@{Form}}
\subsubsection[{get}]{\setlength{\rightskip}{0pt plus 5cm}Form::get (
\begin{DoxyParamCaption}
\item[{\$}]{ field = {\ttfamily null}}
\end{DoxyParamCaption}
)}}
\label{classForm_a30692b7cf24078d8ce209b98fd27aa80}
If a value does not exist in the form data, use the default value instead. 

Reimplemented from \hyperlink{classMatrix}{Matrix}.

\hypertarget{classForm_a3c7226192b6c4a6d098db567dc00fba1}{
\index{Form@{Form}!hidden@{hidden}}
\index{hidden@{hidden}!Form@{Form}}
\subsubsection[{hidden}]{\setlength{\rightskip}{0pt plus 5cm}Form::hidden (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a3c7226192b6c4a6d098db567dc00fba1}
Hidden \hypertarget{classForm_a24944df6f9d5a439fbcd1bf4620a045c}{
\index{Form@{Form}!load@{load}}
\index{load@{load}!Form@{Form}}
\subsubsection[{load}]{\setlength{\rightskip}{0pt plus 5cm}static Form::load (
\begin{DoxyParamCaption}
\item[{\$}]{ data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classForm_a24944df6f9d5a439fbcd1bf4620a045c}
Attempts to load an instance of the form with the given data. 
\begin{DoxyParams}{Parameters}
\item[{\em array}]\$data The form data \end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classFrawst}{Frawst} A form object if the data is valid, otherwise null. 
\end{DoxyReturn}
\hypertarget{classForm_a39acd9ac38411bf19951b993dea7e8b1}{
\index{Form@{Form}!makeToken@{makeToken}}
\index{makeToken@{makeToken}!Form@{Form}}
\subsubsection[{makeToken}]{\setlength{\rightskip}{0pt plus 5cm}static Form::makeToken (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classForm_a39acd9ac38411bf19951b993dea7e8b1}
Storage-\/less token creation. Hashes the current microtime with the SESSION id and returns the hash concatenated to the microtime. When the token is checked, the microtime is re-\/hashed with the SESSION id, and if it matches the given hash, the token is valid. \begin{DoxyReturn}{Returns}
string The form token 
\end{DoxyReturn}
\hypertarget{classForm_a88fa3b1b21917530621c45e121c6e273}{
\index{Form@{Form}!password@{password}}
\index{password@{password}!Form@{Form}}
\subsubsection[{password}]{\setlength{\rightskip}{0pt plus 5cm}Form::password (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a88fa3b1b21917530621c45e121c6e273}
Password \hypertarget{classForm_a5c9e86fcf411e32394ef3ccf9be785ae}{
\index{Form@{Form}!populate@{populate}}
\index{populate@{populate}!Form@{Form}}
\subsubsection[{populate}]{\setlength{\rightskip}{0pt plus 5cm}Form::populate (
\begin{DoxyParamCaption}
\item[{\$}]{ defaults}
\end{DoxyParamCaption}
)}}
\label{classForm_a5c9e86fcf411e32394ef3ccf9be785ae}
Sets default values for this form. These are the values that should be used as defaults if no data already exists from an unsuccessful submission. 
\begin{DoxyParams}{Parameters}
\item[{\em array}]\$defaults \end{DoxyParams}
\hypertarget{classForm_a3394ae873b4192b6f3827dae49bb3ee1}{
\index{Form@{Form}!radio@{radio}}
\index{radio@{radio}!Form@{Form}}
\subsubsection[{radio}]{\setlength{\rightskip}{0pt plus 5cm}Form::radio (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ value, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a3394ae873b4192b6f3827dae49bb3ee1}
Radio \begin{Desc}
\item[\hyperlink{todo__todo000002}{Todo}]make this array-\/proof \end{Desc}
\hypertarget{classForm_a4721ca44be121370629b04e364c70a41}{
\index{Form@{Form}!select@{select}}
\index{select@{select}!Form@{Form}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}Form::select (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ options, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a4721ca44be121370629b04e364c70a41}
Select \hypertarget{classForm_a66e9d055a0daa51aa1c5b4dd62f3f82b}{
\index{Form@{Form}!selectHour24@{selectHour24}}
\index{selectHour24@{selectHour24}!Form@{Form}}
\subsubsection[{selectHour24}]{\setlength{\rightskip}{0pt plus 5cm}Form::selectHour24 (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a66e9d055a0daa51aa1c5b4dd62f3f82b}
Select box for 24 hours \hypertarget{classForm_ae1d9a2ca2ec79f9cf872014397447273}{
\index{Form@{Form}!selectMinute@{selectMinute}}
\index{selectMinute@{selectMinute}!Form@{Form}}
\subsubsection[{selectMinute}]{\setlength{\rightskip}{0pt plus 5cm}Form::selectMinute (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_ae1d9a2ca2ec79f9cf872014397447273}
Select box for 60 minutes \hypertarget{classForm_aea60ffaa701fea429e51ceddb3712298}{
\index{Form@{Form}!selectYesNo@{selectYesNo}}
\index{selectYesNo@{selectYesNo}!Form@{Form}}
\subsubsection[{selectYesNo}]{\setlength{\rightskip}{0pt plus 5cm}Form::selectYesNo (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_aea60ffaa701fea429e51ceddb3712298}
Yes/no select box (returns 1 for yes, 0 for no) \hypertarget{classForm_a4146c9fec58751931eeeafb6a5032109}{
\index{Form@{Form}!setErrors@{setErrors}}
\index{setErrors@{setErrors}!Form@{Form}}
\subsubsection[{setErrors}]{\setlength{\rightskip}{0pt plus 5cm}Form::setErrors (
\begin{DoxyParamCaption}
\item[{\$}]{ errors}
\end{DoxyParamCaption}
)}}
\label{classForm_a4146c9fec58751931eeeafb6a5032109}
Sets the form errors. Will clear any existing errors. 
\begin{DoxyParams}{Parameters}
\item[{\em array}]\$errors \end{DoxyParams}
\hypertarget{classForm_a7856398bee38d7cc0a5e805079651725}{
\index{Form@{Form}!text@{text}}
\index{text@{text}!Form@{Form}}
\subsubsection[{text}]{\setlength{\rightskip}{0pt plus 5cm}Form::text (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a7856398bee38d7cc0a5e805079651725}
Text \hypertarget{classForm_a2ce53f56957c430f52afed0f7a8b900f}{
\index{Form@{Form}!textarea@{textarea}}
\index{textarea@{textarea}!Form@{Form}}
\subsubsection[{textarea}]{\setlength{\rightskip}{0pt plus 5cm}Form::textarea (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ attrs = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{classForm_a2ce53f56957c430f52afed0f7a8b900f}
Textarea \hypertarget{classForm_a719fa0e86b18283faee39d7e0d69957d}{
\index{Form@{Form}!valid@{valid}}
\index{valid@{valid}!Form@{Form}}
\subsubsection[{valid}]{\setlength{\rightskip}{0pt plus 5cm}Form::valid (
\begin{DoxyParamCaption}
\item[{\$}]{ field = {\ttfamily null}}
\end{DoxyParamCaption}
)}}
\label{classForm_a719fa0e86b18283faee39d7e0d69957d}
Checks the specified field for validation errors. If no field is given, checks the whole form for validation errors. 
\begin{DoxyParams}{Parameters}
\item[{\em string}]\$field A field name, or null to check the whole form \end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool True if errors exist 
\end{DoxyReturn}
\hypertarget{classForm_a89ce95b4a8eacc465730fb5e240ff66d}{
\index{Form@{Form}!validate@{validate}}
\index{validate@{validate}!Form@{Form}}
\subsubsection[{validate}]{\setlength{\rightskip}{0pt plus 5cm}Form::validate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classForm_a89ce95b4a8eacc465730fb5e240ff66d}
Validates the form based on validation rules set it in \$\_\-validate. May be overridden in extending classes to customize validation. Errors are stored by field name in \$\_\-errors \begin{DoxyReturn}{Returns}
bool True if no errors were found, false otherwise 
\end{DoxyReturn}


\subsection{Member Data Documentation}
\hypertarget{classForm_a25f4ad782d570833cbd0320fd949651c}{
\index{Form@{Form}!\$\_\-defaults@{\$\_\-defaults}}
\index{\$\_\-defaults@{\$\_\-defaults}!Form@{Form}}
\subsubsection[{\$\_\-defaults}]{\setlength{\rightskip}{0pt plus 5cm}Form::\$\_\-defaults\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classForm_a25f4ad782d570833cbd0320fd949651c}
Default data for repopulating form fields. Keys should be in expanded format.  array 

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
libs/Form.php\item 
libs/Helper/Form.php\end{DoxyCompactItemize}
